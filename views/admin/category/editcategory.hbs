<link rel="stylesheet" href="/stylesheets/editcategory.css">
<body>
<div class="container">
<div class="  d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Editing: {{ categoryDetailsViewing.name }}</h1>
    {{#if error}}
<div class="alert alert-danger">
    {{error}}
</div>
{{/if}}                
{{#if success}}
<div class="alert alert-success">
    {{success}}
</div>
{{/if}}
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group me-2">
            <button class="btn btn-sm btn-outline-secondary">?</button>
        </div>
    </div>
</div>
<div class="col py-3">
    <div class="row">
        <div class="col">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a
                            href="/admin/category">Category Management</a></li>
                    <li class="breadcrumb-item active">{{categoryDetailsViewing.name}}</li>
                </ol>
            </nav>
        </div>
        <div class="col text-end fw-lighter">
            <b>Category ID:</b> {{ categoryDetailsViewing._id }}
        </div>
    </div>
</div>
<form id="editcategoryForm" 
action="/admin/editCategory/{{categoryDetailsViewing._id}}?_method=PUT" method="POST" enctype="multipart/form-data">
    <div class="row form-group mb-4 p-3 gap-4">
        <div class="col">
            <label for="categoryName"><b>Category Name</b></label>
            <input type="text" class="form-control" id="categoryName"name="categoryName"value="{{categoryDetailsViewing.name }}"
                placeholder="Category Name" >
                <span id="categoryname_error" style="color: red;"></span>
        </div>
        <div class="col">
            <label for="categoryDetails"><b>Category Details</b></label>
            <textarea class="form-control mt-3" id="categoryDetails" name="categoryDetails" placeholder="Category Details" rows="4" >{{categoryDetailsViewing.description }}</textarea>
            <span id="description_error" style="color: red;"></span>
        </div>
    </div>
        <div class="row form-group mb-4 p-3 gap-4">
        <div class="col">
            <label for="isActive" class="col-sm-2 col-form-check-label">isActive:</label>
            <div class="col-sm-10 form-check form-switch" style="padding-left: 4.5em;">
                <input class="form-check-input" name="isActive" type="checkbox" role="switch" id="isActive" {{#if categoryDetailsViewing.isActive}}checked{{/if}} style="min-height: 70%;">
            </div>
        </div>
        <div class="col">
            <label for="isDeleted" class="col-sm-2 col-form-check-label">isDeleted:</label>
            <div class="col-sm-10 form-check form-switch" style="padding-left: 4.5em;">
                <input class="form-check-input" name="isDeleted" type="checkbox" role="switch" id="isDeleted" {{#if categoryDetailsViewing.isDeleted}}checked{{/if}} style="min-height: 70%;">
            </div>
        </div>
    </div>

                                <div class="container mt-3 w-100 py-4">
                                    <div class="card shadow-sm w-100">
                                        <div class="card-header d-flex justify-content-between">
                                            <h4>Upload Images</h4>
                                            <form action="#" class="form" id="form">
                                                <input type="file" name="image" id="product-image" multiple class="d-none" onchange="image_select()">
                                                <button class="btn btn-sm btn-success" type="button"onclick="document.getElementById('product-image').click()">
                                                Change Images
                                            </button>
                                            </form>
                                        </div>
                                            <div class="card-body d-flex flex-wrap justify-content-start" id="container">
                                            <div class="image-container d-flex justify-content-around postion-absolute">
                                                <img src="/{{ categoryDetailsViewing.images }}" alt="category Image">
                                            </div>
                                            </div>
                                    </div>
                                </div>
                        </div>
        <div class="form-group mb-4 d-flex flex-row align-items-center justify-content-center">
            <span id="form_error" style="color: red;" ></span>
            <button type="submit" form="editcategoryForm" class="btn btn-success" style="width: 50%;">Update Category</button>
        </div>
    </form>
    </body>
    <script src="/javascripts/editCategory.js"></script>