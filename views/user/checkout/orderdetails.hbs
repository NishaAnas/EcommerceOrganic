<link rel="stylesheet" href="/stylesheets/orderdetails.css">

<body>
    <div class="container">
        <h1>Order Details</h1>
        <div class="order-summary">
            <h2>Order Summary</h2>
            <div class="order-info">
                <div class="row">
                    <div class="col">Order Id:</div>
                    <div class="col">{{ order.newOrderId}}</div>
                </div>
                <div class="row">
                    <div class="col">Order Date:</div>
                    <div class="col order-date">{{ order.orderDate}}</div>
                </div>
                <div class="row">
                    <div class="col">Total Amount:</div>
                    <div class="col">â‚¹{{ order.totalAmount}}</div>
                </div>
                <div class="row">
                    <div class="col">Payment Method:</div>
                    <div class="col">{{ order.payment.method}} ({{ order.payment.status}})</div>
                </div>
                <div class="row">
                    <div class="col">Delivery Details:</div>
                    <div class="col">{{ order.delivery.method}} ({{ order.delivery.status}})</div>
                </div>
                <div class="row">
                    {{#if (isEqual order.orderStatus "Cancelled")}}
                <button class="btn btn-sm btn-info cancel-button" disabled>Cancelled</button>
                {{else}}
                <button class="btn btn-sm btn-info cancel-button" data-orderid="{{ order._id}}">Cancel Order</button>
                {{/if}}
                    
                </div>
            </div>
        </div>
        <div class="order-items">
            <h2>Ordered Items</h2>
            <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Product Name</th>
                <th>Quantity</th>
            </tr>
        </thead>
        <tbody>
                {{#each order.items}}
                <tr>
                    
                    <td style="width: 40%; padding-bottom: 4px;">
                        <a href="/productDetails/{{this.productId}}">
                        {{#if this.images}}
                        <img src="/{{this.images.[0]}}" alt="Product Image" style="width: 15%; height: auto;">
                        {{else}}
                        <p>No Image Available</p>
                        {{/if}}
                        </a>
                    </td>
                    <td style="width: 25%;">{{ this.attributeValue }}</td>
                    <td style="width: 25%;">{{ this.quantity }}</td>
                </tr>
                
                {{/each}}
            </tbody>
    </table>
        </div>
    </div>
    <script src="/javascripts/orderDetails.js"></script>
</body>